!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("@wix/image-kit"),require("react")):"function"==typeof define&&define.amd?define("rb_wixui.thunderbolt[TextMask]",["imageClientApi","react"],t):"object"==typeof exports?exports["rb_wixui.thunderbolt[TextMask]"]=t(require("@wix/image-kit"),require("react")):e["rb_wixui.thunderbolt[TextMask]"]=t(e.__imageClientApi__,e.React)}("undefined"!=typeof self?self:this,(function(e,t){return function(){var a={42662:function(t){"use strict";t.exports=e},5329:function(e){"use strict";e.exports=t},448:function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(null,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}},r={};function n(e){var t=r[e];if(void 0!==t)return t.exports;var i=r[e]={exports:{}};return a[e](i,i.exports,n),i.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};return function(){"use strict";n.r(i),n.d(i,{components:function(){return me}});var e=n(448),t=n.n(e),a=n(5329),r=n.n(a);function o(e){var t,a,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(a=o(e[t]))&&(r&&(r+=" "),r+=a);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}var l=function(){for(var e,t,a=0,r="";a<arguments.length;)(e=arguments[a++])&&(t=o(e))&&(r&&(r+=" "),r+=t);return r},s="HlRz5e",d=n(42662);const{STATIC_MEDIA_URL:c}=d,u=({fittingType:e,src:t,target:a,options:r})=>{const n=d.getPlaceholder(e,t,a,{...r,autoEncode:!0});return n?.uri&&!/^[a-z]+:/.test(n.uri)&&(n.uri=`${c}${n.uri}`),n},m=/^[a-z]+:/;var g=e=>{const{id:t,containerId:r,uri:n,alt:i,name:o="",role:l,width:d,height:g,displayMode:f,devicePixelRatio:p,quality:v,alignType:h,bgEffectName:y="",focalPoint:b,upscaleMethod:x,className:E="",crop:w,imageStyles:I={},targetWidth:S,targetHeight:M,targetScale:_,onLoad:k=(()=>{}),onError:N=(()=>{}),shouldUseLQIP:P,containerWidth:T,containerHeight:O,getPlaceholder:B,isInFirstFold:L,placeholderTransition:C,socialAttrs:z,isSEOBot:A,skipMeasure:R,hasAnimation:j,allowAnimatedTransform:q}=e,D=a.useRef(null);let F="";const W="blur"===C,G=a.useRef(null);if(!G.current)if(B||P||L||A){const e={upscaleMethod:x,...v||{},shouldLoadHQImage:L,isSEOBot:A,hasAnimation:j,allowAnimatedTransform:q};G.current=(B||u)({fittingType:f,src:{id:n,width:d,height:g,crop:w,name:o,focalPoint:b},target:{width:T,height:O,alignment:h,htmlTag:"img"},options:e}),F=!G.current.transformed||L||A?"":"true"}else G.current={uri:void 0,css:{img:{}},attr:{img:{},container:{}},transformed:!1};const H=!A&&(B||P)&&!L&&G.current.transformed,K=a.useMemo((()=>JSON.stringify({containerId:r,...r&&{containerId:r},...h&&{alignType:h},...R&&{skipMeasure:!0},displayMode:f,...T&&{targetWidth:T},...O&&{targetHeight:O},...S&&{targetWidth:S},...M&&{targetHeight:M},..._&&{targetScale:_},isLQIP:H,isSEOBot:A,lqipTransition:C,imageData:{width:d,height:g,uri:n,name:o,displayMode:f,hasAnimation:j,...v&&{quality:v},...p&&{devicePixelRatio:p},...b&&{focalPoint:b},...w&&{crop:w},...x&&{upscaleMethod:x}}})),[r,h,R,f,O,T,S,M,_,H,A,C,d,g,n,o,v,p,b,w,x,j]),U=G.current,$=U?.uri,V=U?.srcset,Y=U.css?.img,J=`${s} ${E}`;a.useEffect((()=>{const e=D.current;k&&e?.currentSrc&&e?.complete&&k({target:e})}),[]);const Q=U&&!U?.transformed?`max(${d}px, 100%)`:S?`${S}px`:null;return a.createElement("wow-image",{id:t,class:J,"data-image-info":K,"data-motion-part":"BG_IMG","data-bg-effect-name":y,"data-has-ssr-src":F,"data-animate-blur":!A&&H&&W?"":void 0,style:Q?{"--wix-img-max-width":Q}:{}},a.createElement("img",{src:$,ref:D,alt:i||"",role:l,style:{...Y,...I},onLoad:k,onError:N,width:T||void 0,height:O||void 0,...z,srcSet:L?V?.dpr?.map((e=>m.test(e)?e:`${c}${e}`)).join(", "):void 0,fetchpriority:L?"high":void 0,loading:!1===L?"lazy":void 0,suppressHydrationWarning:!0}))};var f=e=>{var t,r,n;const{className:i,customIdPrefix:o,getPlaceholder:l,hasAnimation:s,...d}=e,c=a.useMemo((()=>JSON.stringify({containerId:d.containerId,alignType:d.alignType,fittingType:d.displayMode,hasAnimation:s,imageData:{width:d.width,height:d.height,uri:d.uri,name:d.name,...d.quality&&{quality:d.quality},displayMode:d.displayMode}})),[d,s]),u=a.useRef(null);u.current||(u.current=l?l({fittingType:d.displayMode,src:{id:d.uri,width:d.width,height:d.height,name:d.name},target:{width:d.containerWidth,height:d.containerHeight,alignment:d.alignType,htmlTag:"bg"},options:{hasAnimation:s}}):{uri:void 0,css:{img:{}},attr:{img:{},container:{}}});const m=u.current,g=null!=(t=null==m?void 0:m.uri)?t:"",f=null!=(r=null==(n=m.css)?void 0:n.container)?r:{},p=Object.assign(g?{backgroundImage:"url("+g+")"}:{},f);return a.createElement("wix-bg-image",{id:""+(o||"bgImg_")+d.containerId,class:i,style:p,"data-tiled-image-info":c,"data-has-bg-scroll-effect":d.hasBgScrollEffect||"","data-bg-effect-name":d.bgEffectName||"","data-motion-part":"BG_IMG"})};const p=new RegExp("<%= compId %>","g"),v=(e,t)=>e.replace(p,t);var h=e=>null==e?void 0:e.replace(":hover",""),y="bX9O_S",b="Z_wCwr",x="Jxk_UL",E="K8MSra",w="YTb3b4";const I={quality:{unsharpMask:{radius:.33,amount:1,threshold:0}},devicePixelRatio:1};var S=e=>{const{id:r,videoRef:n,videoInfo:i,posterImageInfo:o,muted:s,preload:d,loop:c,alt:u,isVideoEnabled:m,getPlaceholder:f,extraClassName:p=""}=e;i.containerId=h(i.containerId);const S=a.useMemo((()=>JSON.stringify(i)),[i]),M=a.createElement(a.Fragment,null,o.filterEffectSvgString&&a.createElement("svg",{id:"svg_"+i.containerId,className:w},a.createElement("defs",{dangerouslySetInnerHTML:{__html:v(o.filterEffectSvgString,i.containerId)}})),a.createElement(g,t()({key:i.videoId+"_img",id:o.containerId+"_img",className:l(b,x,"bgVideoposter",p),imageStyles:{width:"100%",height:"100%"}},o,I,{getPlaceholder:f})));return m?a.createElement("wix-video",{id:r,"data-video-info":S,"data-motion-part":"BG_IMG",class:l(y,"bgVideo",p)},a.createElement("video",{key:i.videoId+"_video",ref:n,id:i.containerId+"_video",className:E,crossOrigin:"anonymous","aria-label":u,playsInline:!0,preload:d,muted:s,loop:c,tabIndex:-1}),M):M},M="SUz0WK";var _=e=>{const{id:t,containerId:r,pageId:n,children:i,bgEffectName:o="",containerSize:l}=e;return a.createElement("wix-bg-media",{id:t,class:M,"data-container-id":r,"data-container-size":((null==l?void 0:l.width)||0)+", "+((null==l?void 0:l.height)||0),"data-page-id":n,"data-bg-effect-name":o,"data-motion-part":"BG_MEDIA"},i)};const k="bgOverlay";var N="m4khSP",P="FNxOn5";var T=e=>{const{imageOverlay:r}=e;return a.createElement("div",{"data-testid":k,className:N},r&&a.createElement(f,t()({customIdPrefix:"bgImgOverlay_",className:P},r)))};const O="bgLayers",B="colorUnderlay",L="mediaPadding",C="canvas";var z="MW5IWV",A="N3eg0s",R="Kv1aVt",j="dLPlxY",q="VgO9Yg",D="LWbAav",F="yK6aSC",W="K_YxMd",G="NGjcJN",H="mNGsUM";const K="bgImage";var U=e=>{const{videoRef:r,canvasRef:n,hasBgFullscreenScrollEffect:i,image:o,backgroundImage:s,backgroundMedia:d,video:c,backgroundOverlay:u,shouldPadMedia:m,extraClass:p="",shouldRenderUnderlay:v=!c,reducedMotion:y=!1,getPlaceholder:b}=e,{onImageLoad:x}=(e=>{let{onReady:t,image:r}=e;return(0,a.useEffect)((()=>{t&&!r&&t()}),[t,r]),{onImageLoad:e=>{null!=r&&r.onLoad&&r.onLoad(e),t&&t()}}})(e),E=h(e.containerId),w="img_"+h(E),I=o&&a.createElement(g,t()({id:w,className:l(R,j,H,K),imageStyles:{width:"100%",height:"100%"},getPlaceholder:b},o,{onLoad:x})),M=s&&a.createElement(f,t()({},s,{containerId:E,className:l(R,j,H,K),getPlaceholder:b})),k=c&&a.createElement(S,t()({id:"videoContainer_"+E},c,{extraClassName:F,reducedMotion:y,videoRef:r,getPlaceholder:b})),N=a.createElement(a.Fragment,null,I,M,k,n&&a.createElement("canvas",{id:E+"webglcanvas",ref:n,className:l(W,"webglcanvas"),"aria-label":(null==c?void 0:c.alt)||"",role:"presentation","data-testid":C})),P=d?a.createElement(_,t()({id:"bgMedia_"+E},d),N):a.createElement("div",{id:"bgMedia_"+E,"data-motion-part":"BG_MEDIA",className:q},N),U=u&&a.createElement(T,u);return a.createElement("div",{id:O+"_"+E,"data-hook":O,"data-motion-part":"BG_LAYER",className:l(z,p,{[A]:i})},v&&a.createElement("div",{"data-testid":B,className:l(D,R)}),m?a.createElement("div",{"data-testid":L,className:G},P,U):a.createElement(a.Fragment,null,P,U))};const $=(e,t=0,{leading:a=!1,trailing:r=!0}={})=>{let n=null;return function(...i){a&&null===n&&e.apply(this,i),n&&clearTimeout(n),n=r&&a&&!n?setTimeout((()=>{n=null}),t):setTimeout((()=>{r&&e.apply(this,i),n=null}),t)}},V=e=>Object.entries(e).reduce(((e,[t,a])=>(t.includes("data-")&&(e[t]=a),e)),{});const Y=13,J=27;function Q(e){return t=>{t.keyCode===e&&(t.preventDefault(),t.stopPropagation(),t.currentTarget.click())}}const Z=Q(32),X=Q(Y),ee=e=>{X(e),Z(e)},te=(Q(J),{root:"linkElement"}),ae=(e,r)=>{const{href:n,role:i,target:o,rel:l,className:s="",children:d,linkPopupId:c,anchorDataId:u,anchorCompId:m,tabIndex:g,dataTestId:f=te.root,title:p,onClick:v,onDoubleClick:h,onMouseEnter:y,onMouseLeave:b,onFocus:x,onFocusCapture:E,onBlurCapture:w,"aria-live":I,"aria-disabled":S,"aria-label":M,"aria-labelledby":_,"aria-pressed":k,"aria-expanded":N,"aria-describedby":P,"aria-haspopup":T,"aria-current":O,dataPreview:B}=e,L=void 0!==e.activateByKey?e.activateByKey:(e=>e?"SpaceOrEnter":"Space")(c);let C;switch(L){case"Enter":C=X;break;case"Space":C=Z;break;case"SpaceOrEnter":C=ee;break;default:C=void 0}return void 0!==n?a.createElement("a",t()({},V(e),{"data-testid":f,"data-popupid":c,"data-anchor":u,"data-anchor-comp-id":m,"data-preview":B,href:n||void 0,target:o,role:c?"button":i,rel:l,className:s,onKeyDown:C,"aria-live":I,"aria-disabled":S,"aria-label":M,"aria-labelledby":_,"aria-pressed":k,"aria-expanded":N,"aria-haspopup":T,"aria-describedby":P,"aria-current":O,title:p,onClick:v,onMouseEnter:y,onMouseLeave:b,onDoubleClick:h,onFocus:x,onFocusCapture:E,onBlurCapture:w,ref:r,tabIndex:c?0:g}),d):a.createElement("div",t()({},V(e),{"data-testid":f,"data-preview":B,className:s,tabIndex:g,"aria-label":M,"aria-labelledby":_,"aria-haspopup":T,"aria-disabled":S,"aria-expanded":N,title:p,role:i,onClick:v,onDoubleClick:h,onMouseEnter:y,onMouseLeave:b,ref:r}),d)};var re=a.forwardRef(ae);var ne="elEp3H",ie="w681pN",oe="drrrT5",le="UZDyCY",se="wKTolk",de="YcIVz3";const ce=e=>{const{text:t,extraStyle:a,align:n,direction:i,lineHeight:o,letterSpacing:l,size:s,family:d,weight:c,style:u,decoration:m,transform:g}=e;let f;switch(n){case"start":default:f="rtl"===i?"100%":"0";break;case"middle":f="50%";break;case"end":f="rtl"===i?"0":"100%"}return r().createElement(r().Fragment,null,t.split("\n").map(((e,t)=>r().createElement("text",{key:"text-line-"+t,x:f,y:t*o+"em",style:{letterSpacing:""+(null==l?void 0:l.value)+(null==l?void 0:l.type),direction:i,fill:"#000",fontSize:s+"px",fontFamily:d,fontWeight:c,fontStyle:u,textAnchor:n,textDecoration:m,textTransform:g,...a}},e.trim()))))};function ue(e){var t;const a=e.querySelector(".preview-svg"),r=e.querySelector(".display-svg"),n=r.querySelectorAll("text"),i=parseFloat((null==a?void 0:a.dataset.fontsize)||"0"),{width:o=0,height:l=0}=null!=(t=null==a||null==a.getBBox?void 0:a.getBBox())?t:{};if(!o||!l)return{fontSize:0,viewBox:"0 0 0 0"};const s=e.offsetWidth,d="0 0 "+s+" "+s/(o/l),c=s/o*i;return r.setAttributeNS(null,"viewBox",d),n.forEach((e=>{e.style.fontSize=c+"px"})),e.dataset.maskState="true",{fontSize:c,viewBox:d}}const me={TextMask:{component:e=>{const{id:n,fillLayers:i,isDecorative:o,headingLevel:s,size:d,link:c,className:u,viewBox:m,onClick:g,onMouseEnter:f,onMouseLeave:p}=e,v="clip-"+n,h="text-group-"+n,y=r().useRef(null),b=r().useMemo((()=>({"aria-labelledby":o?void 0:h,"aria-hidden":o||void 0})),[o,h]),[x,E]=(0,a.useState)("string"==typeof m?m:"0 0 0 0"),[w,I]=(0,a.useState)({...e});r().useEffect((()=>{const t=y.current;if(t){var a;const r=()=>{const a=ue(t);E(a.viewBox),I({...e,size:a.fontSize})};null==(a=document.fonts)||a.addEventListener("loadingdone",r,{once:!0})}}),[e]),r().useEffect((()=>{const e=$((e=>{for(const t of e)ue(t)}),60,{leading:!0,trailing:!0}),t="undefined"!=typeof ResizeObserver&&new ResizeObserver((t=>e(t.map((e=>e.target))))),a=y.current;return a&&t&&t.observe(a),()=>{a&&t&&t.unobserve(a)}}),[]),r().useEffect((()=>{const t=null==y?void 0:y.current;if(t){const a=ue(t);E(a.viewBox),I({...e,size:a.fontSize})}}),[e]);const S=()=>r().createElement("svg",t()({xmlns:"http://www.w3.org/2000/svg",viewBox:x,className:l("display-svg",ie,oe)},b),r().createElement("defs",null,r().createElement("clipPath",{id:v,"aria-hidden":"true"},r().createElement(ce,w))),r().createElement("g",{className:"text-group",id:h},r().createElement(ce,t()({},w,{extraStyle:{overflow:"visible"}})))),M=()=>r().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:l("preview-svg",ie,le),"data-fontsize":d,"aria-hidden":"true"},r().createElement(ce,e)),_=s?"h"+s:"p",k=o?S:()=>r().createElement(_,null,r().createElement(S,null));return r().createElement("div",t()({id:n},V(e),((e={})=>{const t=e.tabIndex??e.tabindex??void 0;return void 0!==t?{tabIndex:Number(t)}:{}})(e.a11y),{className:l(de,u),ref:y,onClick:g,onMouseEnter:f,onMouseLeave:p}),r().createElement("div",{className:ne},r().createElement(M,null),c&&Object.keys(c).length?r().createElement(re,c,r().createElement(k,null)):r().createElement(k,null),r().createElement("div",{className:l(se,"fill-layers-wrapper"),style:{clipPath:"url(#"+v+")"}},r().createElement(U,i))))}}}}(),i}()}));
//# sourceMappingURL=https://static.parastorage.com/services/editor-elements-library/dist/thunderbolt/rb_wixui.thunderbolt[TextMask].14e5d516.bundle.min.js.map